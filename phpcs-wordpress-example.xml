<?xml version="1.0"?>
<ruleset name="WP project rules (global + WP, mago formats)">

    <!-- pull in your global baseline -->
    <rule ref="~/.config/phpcs/phpcs.xml">
        <exclude name="Squiz.NamingConventions.ValidVariableName.NotCamelCaps"/>
        <exclude name="Squiz.NamingConventions.ValidVariableName.MemberNotCamelCaps"/>
    </rule>

    <!-- enable W coding standards, disable rules that conflict with Mago -->
    <rule ref="WordPress-Core">
        <exclude name="Generic.Classes.OpeningBraceSameLine.BraceOnNewLine"/>
        <exclude name="Generic.Formatting.MultipleStatementAlignment.NotSameWarning"/>
        <exclude name="Generic.Functions.OpeningFunctionBraceKernighanRitchie.BraceOnNewLine"/>
        <exclude name="Generic.WhiteSpace.DisallowSpaceIndent"/>
        <exclude name="Generic.WhiteSpace.ArbitraryParenthesesSpacing.SpaceAfterOpen"/>
        <exclude name="Generic.WhiteSpace.ArbitraryParenthesesSpacing.SpaceBeforeClose"/>
        <exclude name="NormalizedArrays.Arrays.ArrayBraceSpacing"/>
        <exclude name="PEAR.Functions.FunctionCallSignature"/>
        <exclude name="PSR1.Methods.CamelCapsMethodName.NotCamelCaps"/>
        <exclude name="PSR12.ControlStructures.ControlStructureSpacing"/>
        <exclude name="PSR12.Operators.OperatorSpacing"/>
        <exclude name="Squiz.Functions.FunctionDeclarationArgumentSpacing"/>
        <exclude name="Universal.Arrays.DisallowShortArraySyntax.Found"/>
        <exclude name="WordPress.Arrays.ArrayKeySpacingRestrictions"/>
        <exclude name="WordPress.Arrays.MultipleStatementAlignment.DoubleArrowNotAligned"/>
        <exclude name="WordPress.Files.FileName"/>
        <exclude name="WordPress.NamingConventions.ValidFunctionName.MethodNameInvalid"/>
        <exclude name="WordPress.PHP.YodaConditions.NotYoda"/>
        <exclude name="WordPress.WhiteSpace"/>
    </rule>

    <!-- PSR-12 drags in PSR-1 camelCase method enforcement -->

    <!-- ignore deps/build -->
    <exclude-pattern>vendor/*</exclude-pattern>
    <exclude-pattern>node_modules/*</exclude-pattern>
    <exclude-pattern>dist/*</exclude-pattern>
    <exclude-pattern>build/*</exclude-pattern>

    <!-- ====================== -->
    <!-- naming: more Wordpress -->
    <!-- ====================== -->

    <!-- enforce wp snake_case variables/properties -->
    <rule ref="WordPress.NamingConventions.ValidVariableName"/>

    <!-- enforce wp function naming (snake_case) -->
    <rule ref="WordPress.NamingConventions.ValidFunctionName"/>

</ruleset>
